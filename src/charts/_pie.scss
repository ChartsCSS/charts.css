@use "../general/mixins";
@use "../general/variables";

/*
 * Pie Chart
 */
.charts-css {

  &.pie {

    // Layout
    tbody {
      @include mixins.circle;

      tr {
        th {
          @include mixins.visually-hidden;
        }

        td {
          display: flex;
          justify-content: center;
          border-radius: 50%;

          @include mixins.position-fullwidth;

          background:
            conic-gradient(
              transparent 0 calc(1turn * var(--#{ variables.$prefix }start)),
              var(--#{ variables.$prefix }c, transparent) calc(1turn * var(--#{ variables.$prefix }start, 0)) calc(1turn * var(--#{ variables.$prefix }end)),
              transparent calc(1turn * var(--#{ variables.$prefix }end)) 1turn
            );

          &::before {
            content: "";
            @include mixins.position-fullwidth;
          }

          &::after {
            content: "";
            width: 100%;
          }

          .data {
            display: flex;
            justify-content: center;
            border-radius: 50%;
            @include mixins.position-fullwidth;
            transform: rotate(calc(.5turn * var(--#{ variables.$prefix }start, 0) + .5turn * var(--#{ variables.$prefix }end, 0)));
          }
        }
      }
    }
  }
}
